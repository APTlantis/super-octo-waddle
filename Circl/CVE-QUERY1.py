import requests
import json

CVE_URL = "https://cve.circl.lu/api/last/100"

def fetch_cve_data():
    response = requests.get(CVE_URL)
    if response.status_code != 200:
        print("Failed to fetch CVE data")
        return []

    return response.json()

def save_json(data, filename="cybersecurity_datasets.json"):
    with open(filename, "w", encoding="utf-8") as f:
        json.dump(data, f, indent=4)

cve_data = fetch_cve_data()
save_json(cve_data)

print(f"âœ… Scraped {len(cve_data)} recent cybersecurity vulnerabilities!")